<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
width: 0.8em;
margin: 0 0.8em 0.2em -1.6em;
vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}

pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
  <style type="text/css">html {
font-size: 100%;
overflow-y: scroll;
-webkit-text-size-adjust: 100%;
-ms-text-size-adjust: 100%;
}
body {
color: #444;
font-family: Georgia, Palatino, 'Palatino Linotype', Times, 'Times New Roman', serif;
font-size: 12px;
line-height: 1.7;
padding: 1em;
margin-left: 6cm;

max-width: 62em;
background: #fefefe;
}
.horizontal-nav {
display: flex;
justify-content: space-between;
align-items: center;
background-color: #fff;

padding: 5px 10%;
border-bottom: 1px solid #ddd;
}
.horizontal-nav ul {
list-style: none;
margin: 0;
padding: 0;
display: flex;
}
.horizontal-nav li {
margin-left: 1em;
margin-right: 1em;
}
.horizontal-nav a {
color: #333;
text-decoration: none;
font-size: 18px;
font-weight: bold;
letter-spacing: 1px;
transition: all .2s ease-in-out;
}
.horizontal-nav a:hover {
color: #f44336;
}
a {
color: #0645ad;
text-decoration: none;
}
a:visited {
color: #0b0080;
}
a:hover {
color: #06e;
}
a:active {
color: #faa700;
}
a:focus {
outline: thin dotted;
}
*::-moz-selection {
background: rgba(255, 255, 0, 0.3);
color: #000;
}
*::selection {
background: rgba(255, 255, 0, 0.3);
color: #000;
}
a::-moz-selection {
background: rgba(255, 255, 0, 0.3);
color: #0645ad;
}
a::selection {
background: rgba(255, 255, 0, 0.3);
color: #0645ad;
}
p {
margin: 1em 0;
}
img {
max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
color: #111;
line-height: 125%;
margin-top: 2em;
font-weight: normal;
}
h4, h5, h6 {
font-weight: bold;
}
h1 {
font-size: 2.2em;
text-align: center;
}
h2 {
font-size: 1.7em;
}
h3 {
font-size: 1.2em;
}
h4 {
font-size: 0.9em;
}
h5 {
font-size: 0.7em;
}
h6 {
font-size: 0.6em;
}
blockquote {
color: #666666;
margin: 0;
padding-left: 3em;
border-left: 0.5em #EEE solid;
}
hr {
display: block;
height: 2px;
border: 0;
border-top: 1px solid #aaa;
border-bottom: 1px solid #eee;
margin: 1em 0;
padding: 0;
}
pre, code, kbd, samp {
color: #000;
font-family: monospace, monospace;
_font-family: 'courier new', monospace;
font-size: 0.98em;
}
pre {
white-space: pre;
white-space: pre-wrap;
word-wrap: break-word;
background: #eee;
}
b, strong {
font-weight: bold;
}
dfn {
font-style: italic;
}
ins {
background: #ff9;
color: #000;
text-decoration: none;
}
mark {
background: #ff0;
color: #000;
font-style: italic;
font-weight: bold;
}
sub, sup {
font-size: 75%;
line-height: 0;
position: relative;
vertical-align: baseline;
}
sup {
top: -0.5em;
}
sub {
bottom: -0.25em;
}
ul, ol {
margin: 1em 0;
padding: 0 0 0 2em;
}
li p:last-child {
margin-bottom: 0;
}
ul ul, ol ol {
margin: .3em 0;
}
dl {
margin-bottom: 1em;
}
dt {
font-weight: bold;
margin-bottom: .8em;
}
dd {
margin: 0 0 .8em 2em;
}
dd:last-child {
margin-bottom: 0;
}
img {
border: 0;
-ms-interpolation-mode: bicubic;
vertical-align: middle;
}
figure {
display: block;
text-align: center;
margin: 1em 0;
}
figure img {
border: none;
margin: 0 auto;
}
figcaption {
font-size: 0.8em;
font-style: italic;
margin: 0 0 .8em;
}
table {
margin-bottom: 2em;
border-bottom: 1px solid #ddd;
border-right: 1px solid #ddd;
border-spacing: 0;
border-collapse: collapse;
}
table th {
padding: .2em 1em;
background-color: #eee;
border-top: 1px solid #ddd;
border-left: 1px solid #ddd;
}
table td {
padding: .2em 1em;
border-top: 1px solid #ddd;
border-left: 1px solid #ddd;
vertical-align: top;
}
.author {
font-size: 1.2em;
text-align: center;
}
@media only screen and (min-width: 480px) {
body {
font-size: 14px;
}
}
@media only screen and (min-width: 768px) {
body {
font-size: 16px;
}
}
@media print {
* {
background: transparent !important;
color: black !important;
filter: none !important;
-ms-filter: none !important;
}
body {
font-size: 12pt;
max-width: 100%;
}
a, a:visited {
text-decoration: underline;
}
hr {
height: 1px;
border: 0;
border-bottom: 1px solid black;
}
a[href]:after {
content: " (" attr(href) ")";
}
abbr[title]:after {
content: " (" attr(title) ")";
}
.ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after {
content: "";
}
pre, blockquote {
border: 1px solid #999;
padding-right: 1em;
page-break-inside: avoid;
}
tr, img {
page-break-inside: avoid;
}
img {
max-width: 100% !important;
}
@page :left {
margin: 15mm 20mm 15mm 10mm;
}
@page :right {
margin: 15mm 10mm 15mm 20mm;
}
p, h2, h3 {
orphans: 3;
widows: 3;
}
h2, h3 {
page-break-after: avoid;
}
}
@media only screen and (max-width: 550px) {
body {
margin-left: 2em;
margin-right: 2em;

font-size: 0.5em;
}
.horizontal-nav {
margin-left: 0em;
margin-right: 0em;
display: flex;
justify-content: space-between;
align-items: center;
background-color: #fff;

padding: 5px 3%;
border-bottom: 1px solid #ddd;
}
.horizontal-nav li {
margin-left: 1em;
margin-right: 1em;
}
.horizontal-nav a {
color: #333;
text-decoration: none;
font-size: 1em;
font-weight: bold;

transition: all .2s ease-in-out;
}
}
</style>
   
  <!-- CSS added by filter 'toc-css.lua' for TOC hovering to the side -->
  <style>
body {
padding-left: 1cm;
padding-right: 1cm;
transition: 0.5s;
}
nav {
width: 1em;
margin-left: -1cm;
font-size: smaller;
color: grey;
transition: 0.5s;
float: left;
position: fixed;
top: 0;
bottom: 0;
white-space: nowrap; overflow: hidden;
overflow-y: scroll;
transition: 0.5s;
}
nav::-webkit-scrollbar {
display: none;
}
nav a, nav a:visited {
color: grey;
}
nav h2:before {
content: "≡ ";
font-size: 150%;
}
nav h2:after {
content: " ◂";
}
nav li {
margin-left: 1em;
white-space: nowrap; overflow: hidden;
text-overflow: ellipsis;
}
nav li > a:not(:only-child):before {
content: "▸ ";
}
nav li > a:only-child {
margin-left: 0.75em;
}
nav li li {
margin-left: 1em;
}
nav li li li {
margin-left: 0.5em;
font-size: smaller;
}
nav ul li ul {
visibility: hidden;
display: none;
margin-top: 0.2em;
margin-bottom: 0.2em;
transition: 0.5s;
}
.paddingleft {
padding-left: 1cm;
transition: 0.5s;
}
.navside {
width: 6cm;
margin-left: -6.4cm;
padding-right: 1cm;
transition: 0.5s;
}
@media only screen and (max-width: 650px) {
body {
padding-left: 0em;
padding-right: 0em;
transition: 0.5s;
}
.navside {
width: 2cm;
margin-left: -2cm;
padding-right: 1cm;
transition: 0.5s;
}
}
.navside h2:after {
content: " ▸";
}
.navshown {
width: 50%;
transition: 0.5s;
background-color: rgba(255, 255, 255, 0.95);
}
.subShow > ul {
visibility: visible;
display: block;
transition: 0.5s;
margin-left: -1em;
}
.subShow > a:not(:only-child):before {
content: "▾ ";
}
</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<ul class="horizontal-nav">
    <a href="https://stubbornvegeta.github.io/Draft">Draft-Home</a>
    <a href="https://stubbornvegeta.github.io/Draft/docs/Environment/index.html">Environment</a>
    <a href="https://stubbornvegeta.github.io/Draft/docs/Snippets/index.html">Snippets</a>
    <a href="https://stubbornvegeta.github.io/Draft/docs/Tools/index.html">Tools</a>
    <a href="https://stubbornvegeta.github.io/Draft/docs/Languages/index.html">Languages</a>
    <a href="https://github.com/StubbornVegeta/Draft/blob/main/README.md">
    <svg height="13" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="13" data-view-component="true" class="octicon octicon-mark-github v-align-middle">
    <path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path>
    </svg>
</a>
</ul>
<nav id="TOC" role="doc-toc">
<h2 id="toc-title">Tools</h2>
<ul>
<li><a href="#程序耗时测量工具" id="toc-程序耗时测量工具">程序耗时测量工具</a>
<ul>
<li><a href="#hyperfine" id="toc-hyperfine">hyperfine</a></li>
</ul></li>
<li><a href="#查看机器硬件信息" id="toc-查看机器硬件信息">查看机器硬件信息</a>
<ul>
<li><a href="#dmidecode" id="toc-dmidecode">dmidecode</a></li>
<li><a href="#获取系统的cache_line" id="toc-获取系统的cache_line">获取系统的CACHE_LINE</a></li>
</ul></li>
<li><a href="#文本搜索工具ripgrep" id="toc-文本搜索工具ripgrep">文本搜索工具ripgrep</a>
<ul>
<li><a href="#用法" id="toc-用法">用法</a></li>
</ul></li>
</ul>
</nav>
<!-- vim-markdown-toc GitLab -->
<ul>
<li><a href="#程序耗时测量工具">程序耗时测量工具</a>
<ul>
<li><a href="#hyperfine">hyperfine</a>
<ul>
<li><a href="#安装">安装</a></li>
<li><a href="#示例">示例</a></li>
</ul></li>
</ul></li>
<li><a href="#查看机器硬件信息">查看机器硬件信息</a>
<ul>
<li><a href="#dmidecode">dmidecode</a>
<ul>
<li><a href="#安装-1">安装</a></li>
<li><a href="#支持的选项">支持的选项</a></li>
</ul></li>
<li><a href="#获取系统的cache_line">获取系统的CACHE_LINE</a></li>
</ul></li>
<li><a href="#文本搜索工具ripgrep">文本搜索工具ripgrep</a>
<ul>
<li><a href="#用法">用法</a></li>
</ul></li>
</ul>
<!-- vim-markdown-toc -->
<h2 id="程序耗时测量工具">程序耗时测量工具</h2>
<h3 id="hyperfine">hyperfine</h3>
<h4 id="安装">安装</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> pacman <span class="at">-S</span> hyperfine</span></code></pre></div>
<h4 id="示例">示例</h4>
<blockquote>
<p>测量zsh的启动时间</p>
</blockquote>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">hyperfine</span> <span class="st">&quot;zsh -i -c exit&quot;</span></span></code></pre></div>
<p>结果</p>
<pre><code>Benchmark 1: zsh -i -c exit
  Time (mean ± σ):      19.9 ms ±   0.4 ms    [User: 15.0 ms, System: 6.9 ms]
  Range (min … max):    18.8 ms …  21.0 ms    138 runs</code></pre>
<blockquote>
<p>c++中map的重哈希和vector的内存移动耗时对比</p>
</blockquote>
<p>重哈希rehash</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">// rehash.cpp</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;unordered_map&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;string&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>unordered_map<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="bu">std::</span>string<span class="op">&gt;</span> my_map<span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">constexpr</span> <span class="dt">int</span> N <span class="op">=</span> <span class="dv">50000</span><span class="op">;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> N<span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    my_map<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="st">&quot;hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="st">                 hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="st">                 hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="st">                 hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="st">                 hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="st">                 hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="st">                 hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="st">                 hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="st">                 hello world hello world hello world &quot;</span><span class="op">;</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>内存移动recopy</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">// recopy.cpp</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;vector&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;string&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>vector<span class="op">&lt;</span><span class="bu">std::</span>string<span class="op">&gt;</span> my_vec<span class="op">;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">constexpr</span> <span class="dt">int</span> N <span class="op">=</span> <span class="dv">50000</span><span class="op">;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">int</span> a<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> N<span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    my_vec<span class="op">.</span>emplace_back<span class="op">(</span><span class="st">&quot;hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="st">                         hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="st">                         hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="st">                         hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="st">                         hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="st">                         hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="st">                         hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="st">                         hello world hello world hello world </span><span class="op">\</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="st">                         hello world hello world hello world &quot;</span><span class="op">);</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    a<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> i<span class="op">;</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>运行hyperfine</p>
<pre><code>hyperfine --warmup=5 &quot;./rehash&quot; &quot;./recopy&quot;</code></pre>
<p>结果</p>
<pre><code>Benchmark 1: ./rehash
  Time (mean ± σ):      21.5 ms ±   1.0 ms    [User: 13.5 ms, System: 7.8 ms]
  Range (min … max):    20.0 ms …  24.7 ms    126 runs

Benchmark 2: ./recopy
  Time (mean ± σ):      14.8 ms ±   0.9 ms    [User: 7.1 ms, System: 7.6 ms]
  Range (min … max):    13.4 ms …  17.1 ms    162 runs

Summary
  &#39;./recopy&#39; ran
    1.45 ± 0.11 times faster than &#39;./rehash&#39;</code></pre>
<h2 id="查看机器硬件信息">查看机器硬件信息</h2>
<h3 id="dmidecode">dmidecode</h3>
<h4 id="安装-1">安装</h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> pacman <span class="at">-S</span> dmidecode</span></code></pre></div>
<h4 id="支持的选项">支持的选项</h4>
<details>
<summary>
点击 展开/收起 内容
</summary>
<pre><code>
Type    Information
0   BIOS
1   System
2   Base Board
3   Chassis
4   Processor
5   Memory Controller
6   Memory Module
7   Cache
8   Port Connector
9   System Slots
10  On Board Devices
11  OEM Strings
12  System Configuration Options
13  BIOS Language
14  Group Associations
15  System Event Log
16  Physical Memory Array
17  Memory Device
18  32-bit Memory Error
19  Memory Array Mapped Address
20  Memory Device Mapped Address
21  Built-in Pointing Device
22  Portable Battery
23  System Reset
24  Hardware Security
25  System Power Controls
26  Voltage Probe
27  Cooling Device
28  Temperature Probe
29  Electrical Current Probe
30  Out-of-band Remote Access
31  Boot Integrity Services
32  System Boot
33  64-bit Memory Error
34  Management Device
35  Management Device Component
36  Management Device Threshold Data
37  Memory Channel
38  IPMI Device
39  Power Supply
40  Additional Information
41  Onboard Device
    </code></pre>
</details>
<h4 id="示例-1">示例</h4>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> dmidecode <span class="at">-t</span> memory</span></code></pre></div>
<p>结果</p>
<details>
<summary>
点击 展开/收起 结果
</summary>
<pre><code>
# dmidecode 3.5
    Getting SMBIOS data from sysfs.
    SMBIOS 3.3.0 present.

    Handle 0x0022, DMI type 16, 23 bytes
    Physical Memory Array
            Location: System Board Or Motherboard
            Use: System Memory
            Error Correction Type: None
            Maximum Capacity: 64 GB
            Error Information Handle: 0x0025
            Number Of Devices: 2

    Handle 0x0023, DMI type 17, 92 bytes
    Memory Device
            Array Handle: 0x0022
            Error Information Handle: 0x0026
            Total Width: 64 bits
            Data Width: 64 bits
            Size: 8 GB
            Form Factor: Row Of Chips
            Set: None
            Locator: DIMM 0
            Bank Locator: P0 CHANNEL A
            Type: DDR4
            Type Detail: Synchronous Unbuffered (Unregistered)
            Speed: 3200 MT/s
            Manufacturer: Samsung
            Serial Number: 00000000
            Asset Tag: Not Specified
            Part Number: M471A1G44AB0-CWE
            Rank: 1
            Configured Memory Speed: 3200 MT/s
            Minimum Voltage: 1.2 V
            Maximum Voltage: 1.2 V
            Configured Voltage: 1.2 V
            Memory Technology: DRAM
            Memory Operating Mode Capability: Volatile memory
            Firmware Version: Unknown
            Module Manufacturer ID: Bank 1, Hex 0xCE
            Module Product ID: Unknown
            Memory Subsystem Controller Manufacturer ID: Unknown
            Memory Subsystem Controller Product ID: Unknown
            Non-Volatile Size: None
            Volatile Size: 8 GB
            Cache Size: None
            Logical Size: None

    Handle 0x0024, DMI type 17, 92 bytes
    Memory Device
            Array Handle: 0x0022
            Error Information Handle: 0x0027
            Total Width: 64 bits
            Data Width: 64 bits
            Size: 8 GB
            Form Factor: Row Of Chips
            Set: None
            Locator: DIMM 0
            Bank Locator: P0 CHANNEL B
            Type: DDR4
            Type Detail: Synchronous Unbuffered (Unregistered)
            Speed: 3200 MT/s
            Manufacturer: Samsung
            Serial Number: 00000000
            Asset Tag: Not Specified
            Part Number: M471A1G44AB0-CWE
            Rank: 1
            Configured Memory Speed: 3200 MT/s
            Minimum Voltage: 1.2 V
            Maximum Voltage: 1.2 V
            Configured Voltage: 1.2 V
            Memory Technology: DRAM
            Memory Operating Mode Capability: Volatile memory
            Firmware Version: Unknown
            Module Manufacturer ID: Bank 1, Hex 0xCE
            Module Product ID: Unknown
            Memory Subsystem Controller Manufacturer ID: Unknown
            Memory Subsystem Controller Product ID: Unknown
            Non-Volatile Size: None
            Volatile Size: 8 GB
            Cache Size: None
            Logical Size: None
    </code></pre>
</details>
<p>可以看到此电脑最多支持64G的内存，目前安装了2条8G的内存条</p>
<h3 id="获取系统的cache_line">获取系统的CACHE_LINE</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">getconf</span> LEVEL1_DCACHE_LINESIZE</span></code></pre></div>
<p>结果</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">64</span></span></code></pre></div>
<h2 id="文本搜索工具ripgrep">文本搜索工具ripgrep</h2>
<p>替代GNU grep</p>
<h3 id="用法">用法</h3>
<ol type="1">
<li>基础用法</li>
</ol>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rg</span> <span class="st">&#39;keywords&#39;</span></span></code></pre></div>
<ol start="2" type="1">
<li>使用正则</li>
</ol>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rg</span> <span class="at">-e</span> <span class="st">&#39;[0-9]\.&#39;</span>                 <span class="co"># 查找1., 2.这种形式的文本</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="ex">rg</span> <span class="at">-e</span> <span class="st">&#39;[0-9]\.&#39;</span> <span class="at">-g</span> <span class="st">&#39;site/**&#39;</span>    <span class="co"># 在site目录及其子目录下查找1., 2.这种形式的文本</span></span></code></pre></div>
<ol start="3" type="1">
<li>搜索单词</li>
</ol>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rg</span> <span class="at">-e</span> <span class="st">&#39;\bkey\b&#39;</span>                 <span class="co"># 只查找key这个单词，相当于grep中的grep -E &#39;\&lt;key\&gt;&#39; -rn ./</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="ex">rg</span> <span class="at">-w</span> <span class="st">&#39;key&#39;</span></span></code></pre></div>
<ol start="4" type="1">
<li>只查找指定文件类型</li>
</ol>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rg</span> <span class="at">-t</span> md <span class="st">&#39;\bkey&#39;</span>                <span class="co"># 只在markdown文件中查找</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="ex">rg</span> <span class="at">-t</span> md <span class="at">-t</span> html <span class="st">&#39;\bkey&#39;</span>        <span class="co"># 只在markdown和html文件中查找</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="ex">rg</span> <span class="at">-g</span> <span class="st">&#39;*{md, html}&#39;</span> <span class="at">-e</span> <span class="st">&#39;\bkey&#39;</span>  <span class="co"># 只在markdown和html文件中查找</span></span></code></pre></div>
<ol start="5" type="1">
<li>过滤文件类型或文件夹</li>
</ol>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rg</span> <span class="at">-T</span> html <span class="at">-e</span> <span class="st">&#39;\bkey&#39;</span>           <span class="co"># 不查找html文件</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">rg</span> <span class="at">-e</span> <span class="st">&#39;\bkey&#39;</span> <span class="at">-g</span> <span class="st">&#39;!site/*&#39;</span>      <span class="co"># 排除site目录</span></span></code></pre></div>
<ol start="6" type="1">
<li>显示不包含关键词的行</li>
</ol>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rg</span> <span class="at">-v</span> <span class="st">&#39;keywords&#39;</span></span></code></pre></div>

<!-- Javascript added by toc-css.lua to make TOC expandable on click -->
<script>

  const b = document.querySelector("body");
  const n = document.querySelector("nav");
  const buttonsize = 20;

  // click on "toc-title" to show TOC to the side
  document.querySelector("#toc-title").addEventListener("click", function(e) {
    if (e.clientX < e.currentTarget.getBoundingClientRect().left + buttonsize) {
      b.classList.toggle("paddingleft");
      n.classList.toggle("navside");
    } else {
      b.classList.toggle("paddingleft");
      n.classList.toggle("navside");
    };
  });

  // show/hide subsections
  const allLis = document.querySelectorAll("nav li");

  // by default show TOC in large window
  window.onload = function() {
    if (window.innerWidth > 1000) {
      b.classList.add("paddingleft");
      n.classList.add("navside");
    };
    for (const li of allLis) {
      li.classList.toggle('subShow');
    }
  };

  // show/hide TOC on resize
  window.onresize = function () {
    if (window.innerWidth > 1000) {
      b.classList.add("paddingleft");
      n.classList.add("navside");
    } else {
      b.classList.remove("paddingleft");
      n.classList.remove("navside");
    };
  };


  for (const li of allLis) {
    li.addEventListener('click', function (e) {
      if (e.clientX < e.currentTarget.getBoundingClientRect().left + buttonsize) {
        li.classList.toggle('subShow');
        e.preventDefault();
      };
    });
  };

  // show full nav on tab, hide full nav on escape
  document.addEventListener("keydown", function (e) {
    if (e.which === 27) {
      b.classList.toggle("paddingleft");
      n.classList.toggle("navside");
      // n.classList.toggle("navshown");
      // n.classList.remove("navshown");
      e.preventDefault();
    };
    if (e.which === 9) {
      b.classList.toggle("paddingleft");
      n.classList.toggle("navside");
      // n.classList.toggle("navshown");
      // n.classList.add("navshown");
      e.preventDefault();
    };
  });

  // hide full nav when clicked outside
  // document.addEventListener("click", function(e) {
  //   if (n.classList.contains("navshown")) {
  //     if (!n.contains(e.target)) {
  //       n.classList.remove("navshown");
  //     };
  //   };
  // });

</script>
</body>
</html>
